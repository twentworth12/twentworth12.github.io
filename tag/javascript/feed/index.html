<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>JavaScript &#8211; Tom Wentworth</title>
	<atom:link href="https://twentworth12.github.io/tag/javascript/feed/" rel="self" type="application/rss+xml" />
	<link>https://twentworth12.github.io/</link>
	<description>Advice on tech marketing strategy and tactics.</description>
	<lastBuildDate>Wed, 02 Jan 2019 21:26:07 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	

<image>
	<url>https://i0.wp.com/tomwentworth.com/wp-content/uploads/2020/08/cropped-1f4c8-2.png?fit=32%2C32&#038;ssl=1</url>
	<title>JavaScript &#8211; Tom Wentworth</title>
	<link>https://twentworth12.github.io/</link>
	<width>32</width>
	<height>32</height>
</image> 
<site xmlns="com-wordpress:feed-additions:1">156346229</site>	<item>
		<title>What I Learned Building an App on the Drift Platform</title>
		<link>https://twentworth12.github.io/2017/12/15/what-i-learned-building-an-app-on-the-drift-platform-5bff28cb6ab6/</link>
		
		<dc:creator><![CDATA[Tom Wentworth]]></dc:creator>
		<pubDate>Fri, 15 Dec 2017 23:15:36 +0000</pubDate>
				<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[Drift]]></category>
		<category><![CDATA[JavaScript]]></category>
		<category><![CDATA[Marketing]]></category>
		<guid isPermaLink="false"></guid>

					<description><![CDATA[A long time ago in a galaxy far, far away — I was a Computer Science major at the University of Illinois. I grew up programming in BASIC on a variety of hardware, including my beloved TI 99/4A and then later a Commodore Amiga. My parents came up with a brilliant strategy to get me to learn [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>A long time ago <a href="https://cs.illinois.edu" data-href="https://cs.illinois.edu" target="_blank" rel="noopener" data-mce-href="https://cs.illinois.edu">in a galaxy far, far away</a> — I was a Computer Science major at the University of Illinois. I grew up programming in BASIC on a variety of hardware, including my beloved <a href="http://oldcomputers.net/ti994a.html" data-href="http://oldcomputers.net/ti994a.html" target="_blank" rel="noopener" data-mce-href="http://oldcomputers.net/ti994a.html">TI 99/4A</a> and then later a Commodore Amiga. My parents came up with a brilliant strategy to get me to learn to program — you want to play games on the computer? Build them.</p><p>But after graduating college I realized I was pretty awful programmer. I was <a href="https://fcw.com/articles/1997/07/06/asymetrix-aimtech-combine-for-multimedia-training-apps.aspx?m=1" data-href="https://fcw.com/articles/1997/07/06/asymetrix-aimtech-combine-for-multimedia-training-apps.aspx?m=1" target="_blank" rel="noopener" data-mce-href="https://fcw.com/articles/1997/07/06/asymetrix-aimtech-combine-for-multimedia-training-apps.aspx?m=1">working in QA at a software company</a>, and I found out pretty quickly that I better find something other way to make a living. Since I was better at talking about technology than building it, I ended up becoming a sales engineer and then later, a marketer.</p><p>I’ve always felt that my tech background has helped my marketing career, a phenominon <a href="https://medium.com/u/30626bc3c085" data-href="https://medium.com/u/30626bc3c085" data-anchor-type="2" data-user-id="30626bc3c085" data-action-value="30626bc3c085" data-action="show-user-card" data-action-type="hover" target="_blank" rel="noopener" data-mce-href="https://medium.com/u/30626bc3c085">Scott Brinker</a> <a href="http://chiefmartec.com/2008/03/marketing-and-c/" data-href="http://chiefmartec.com/2008/03/marketing-and-c/" target="_blank" rel="noopener" data-mce-href="http://chiefmartec.com/2008/03/marketing-and-c/">wrote about way back in 2008</a>. Marketing as a discipline sits at the center of science and humanity, and I’ve tried to balance the two in my career.</p><p>But sometimes you just feel the need to build.</p><h4>Building a App on the Drift&nbsp;Platform</h4><p>The <a href="https://medium.com/u/5a3bd01d25cc" data-href="https://medium.com/u/5a3bd01d25cc" data-anchor-type="2" data-user-id="5a3bd01d25cc" data-action-value="5a3bd01d25cc" data-action="show-user-card" data-action-type="hover" target="_blank" rel="noopener" data-mce-href="https://medium.com/u/5a3bd01d25cc">Drift</a> platform is a new set of APIs to allow developers to <a href="https://blog.drift.com/drift-platform/" data-href="https://blog.drift.com/drift-platform/" target="_blank" rel="noopener" data-mce-href="https://blog.drift.com/drift-platform/">create and publish apps on Drift</a>. I wanted to find a way to make it easier for our team at RapidMiner to learn more about the people we’re having conversations with.</p><p>I’ve been wanting to get back into coding as a #sidehustle thing, so I took at look at at <a href="https://github.com/Driftt/Driffy" data-href="https://github.com/Driftt/Driffy" target="_blank" rel="noopener" data-mce-href="https://github.com/Driftt/Driffy">one of the sample applications</a> that launched with the Drift platform and decided to give it a try.</p><p>Every time we start talking to someone with Drift, we try and look them up in Salesforce to learn about them so we can make the converation more relavant. Salesforce has all of the usual information, but more importantly for us, it has all of the information about how people are using our products.</p><p>Our process with Drift at RapidMiner was to cut+paste the email address into Salesforce to look up a user. Sounds easy, but it takes time, and disrupts the flow of the conversation especially when we are juggling lots of simultaneous conversions.</p><p>So, I decided I’d try and build an app called <a href="https://github.com/twentworth12/salesforce-lookup" data-href="https://github.com/twentworth12/salesforce-lookup" target="_blank" rel="noopener" data-mce-href="https://github.com/twentworth12/salesforce-lookup">salesforce-lookup</a> that would make it easier to pull data from Salesforce into Drift. It takes the email address of the current user and returns a bunch of useful information from Salesforce directly into the Drift conversation. It looks like this inside Drift:</p><figure><p><img decoding="async" data-image-id="1*u4eiP_vzfy6iJMhDlKy2Vg.png" data-width="766" data-height="478" src="https://i0.wp.com/tomwentworth.com/wp-content/uploads/2017/12/febf7-1u4eiP_vzfy6iJMhDlKy2Vg.png?ssl=1" data-mce-src="https://i0.wp.com/tomwentworth.com/wp-content/uploads/2017/12/febf7-1u4eiP_vzfy6iJMhDlKy2Vg.png?ssl=1" data-recalc-dims="1"></p></figure><p>The app will automatically generates a direct link to the user in Salesforce, and returns information about the user, including the number of times and the last time they used RapidMiner. Simple for sure, but it saves a bunch of time for the team and lets us have more relevant conversions.</p><p>Here’s how I did it, and what I learned in the process.</p><h4>Creating a GitHub&nbsp;Account</h4><p>Okay, I <a href="https://github.com/twentworth12/salesforce-lookup" data-href="https://github.com/twentworth12/salesforce-lookup" target="_blank" rel="noopener" data-mce-href="https://github.com/twentworth12/salesforce-lookup">already had a GitHub account</a>, but had never used it before. Wow, GitHub is simple and useful. I can’t compare it to the all the old ways to manage code because I never used them, but it sure beats vi and a filesystem.</p><p>Apparently people still do use vi (and emacs). And there’s even a <a href="https://en.wikipedia.org/wiki/Editor_war" data-href="https://en.wikipedia.org/wiki/Editor_war" target="_blank" rel="noopener" data-mce-href="https://en.wikipedia.org/wiki/Editor_war">Wikipedia on editor wars</a>. (I’m team vi, for the record).</p><h4>Setting up&nbsp;Heroku</h4><p>Heroku is an obvious place to run nodeJS apps, so I gave it a try. It was super easy to setup, and connects right to GitHub. Every time I pushed my code to GitHub it would automatically redeploy the app.</p><figure><p><img decoding="async" data-image-id="1*t-pVgsF8nPz19sbmBeMTXg.png" data-width="776" data-height="468" src="https://i0.wp.com/tomwentworth.com/wp-content/uploads/2017/12/81fac-1t-pVgsF8nPz19sbmBeMTXg.png?ssl=1" data-mce-src="https://i0.wp.com/tomwentworth.com/wp-content/uploads/2017/12/81fac-1t-pVgsF8nPz19sbmBeMTXg.png?ssl=1" data-recalc-dims="1"></p></figure><h4>Learning nodeJS and Asynchronous JavaScript</h4><p>Okay, now the hard part — building the app in nodeJS.</p><p>I’ve used client side Javascript extensively during my time as a sales engineer, but I never really appreciated how much its has evolved for server-side applications.</p><p>My breakthrough was learning that Javascript can be asynchronous, and that means it requires a bit more planning when building the app.</p><p>I had to string a serious of function calls together to make sure that I had all the information I needed at each step. That meant I had to learn all about callback functions (shoutout to<a href="https://team.drift.com/jbarna" data-href="https://team.drift.com/jbarna" target="_blank" rel="noopener" data-mce-href="https://team.drift.com/jbarna"> Joel on the Drift team</a> for explaining this to me).</p><p>For example, here’s a function that finds the Drift Contact Id for the user in the current converation.</p><p><br></p><p>In an asynchronous Javascript world, you don’t really have the Drift Contact Id variable until you execute the callback function <em>GetContactId</em>. Once I figured this out, I was able to chain together a series of API calls to Drift and Salesforce.</p><p>The Drift APIs were easy to use, but Salesforce was a bit harder. One of the best parts of nodeJS is the ecosystem, and I found a <a href="https://jsforce.github.io" data-href="https://jsforce.github.io" target="_blank" rel="noopener" data-mce-href="https://jsforce.github.io">robust library called JSforce</a> to help with the Salesforce query.</p><p>The hardest part was logging into Salesforce using OAuth. I had never looked at OAuth before, so I had to learn enough about it to access both the Salesforce and Drift APIs. Authentication to Salesforce is a little bit more difficult as you have to handle tokens that can expire.</p><p>Once I was able to authenticate, it’s just a simple SQL-like query to return what I needed for my app — the users name, company, and some details about their RapidMiner product usage. I can query any field we have inside Salesforce.</p><pre>conn.query("SELECT Id, Email, FirstName, LastName, Company, Academics__c, Total_RM_Studio_starts__c, Last_RM_Studio_usage__c FROM Lead where Email = '" + emailAddress + "'", function(err, result) {</pre><p>Then I put together the message…</p><pre>// Build the Drift reply body</pre><pre>body = "&lt;a target='_blank' href=https://na52.salesforce.com/" + Id + "&gt;" + firstName + " " + lastName + "&lt;/a&gt;&lt;br/&gt;" + "Company: " + Company + "&lt;br/&gt;Total RM Studio Starts: " + totalStudioStarts + "&lt;br/&gt;Last RM Studio Usage: " + lastStudioUsage + "&lt;br/&gt;Academic: " + Academic</pre><p>And lastly send the message back to the Drift conversion.</p><pre>// Send the message</pre><pre>return request.post(CONVERSATION_API_BASE + `/${conversationId}/messages`)</pre><pre>.set('Content-Type', 'application/json')</pre><pre>.set(`Authorization`, `bearer ${DRIFT_TOKEN}`)</pre><pre>.send(message)</pre><pre>.catch(err =&gt; console.log(err))</pre><p>I was glad to learn that the best way to debug things is still to output stuff to the console. That hasn’t changed since my days of debugging BASIC. At one point, I basically had a console.log every other line.</p><figure><p><img decoding="async" data-image-id="1*rPSCAybvHC4UO1zRo0HDQQ.png" data-width="1288" data-height="392" src="https://i0.wp.com/tomwentworth.com/wp-content/uploads/2017/12/669e8-1rPSCAybvHC4UO1zRo0HDQQ.png?ssl=1" data-mce-src="https://i0.wp.com/tomwentworth.com/wp-content/uploads/2017/12/669e8-1rPSCAybvHC4UO1zRo0HDQQ.png?ssl=1" data-recalc-dims="1"></p></figure><h4>All marketers should learn to&nbsp;program</h4><p>When I finally made this work (at 2am last night, just like in college!) it felt really great. There’s nothing like building something and seeing it actually work. Heck, someone has even forked my code already (looking at you <a href="https://medium.com/u/18756d04f2c7" data-href="https://medium.com/u/18756d04f2c7" data-anchor-type="2" data-user-id="18756d04f2c7" data-action-value="18756d04f2c7" data-action="show-user-card" data-action-type="hover" target="_blank" rel="noopener" data-mce-href="https://medium.com/u/18756d04f2c7">Brian Whalley</a>, good luck!). I’m sure my code is awful, but it does something useful, and it was really fun to build.</p><p>Steve Jobs once said <a href="https://www.youtube.com/watch?v=mCDkxUbalCw" data-href="https://www.youtube.com/watch?v=mCDkxUbalCw" target="_blank" rel="noopener" data-mce-href="https://www.youtube.com/watch?v=mCDkxUbalCw">everyone should learn to program a computer</a>, and I agree. It helps you develop logical thinking (hey asyncronous Javascript), and many of the same concepts you learn in programming apply to lots of things we see as marketers. For example, your Marketo, Pardot, or HubSpot segmentation lists are just a complex boolean expression.</p><p>The advent of applications like GitHub and Heroku plus the availability of a massive variety of training resources make getting started with programming today easier than ever. Seriously, imagine getting a CS degree today without StackOverflow — yeah, that’s what my generation had to do.</p>


<pre class="wp-block-code"><code>function getContactId(conversationId, callbackFn, orgId) {
// Get the contact from Drift
request
.get(CONVERSATION_API_BASE + `${conversationId}`)
.set('Content-Type', 'application/json')
.set(`Authorization`, `bearer ${DRIFT_TOKEN}`)
.end(function(err, res){
callbackFn(res.body.data.contactId, conversationId, orgId)
});
}
// call back function
function GetContactId(contactId, conversationId, orgId) {
return getContactEmail(contactId, GetContactEmail, conversationId, orgId);
}</code></pre>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">26</post-id>	</item>
	</channel>
</rss>
